#!/usr/bin/env bash
set -e

# Simple bash script router
SCRIPT_DIR="$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)/scripts"

# Get command from first argument
COMMAND="$1"
shift

# Show usage if no command provided
if [ -z "$COMMAND" ]; then
  echo "Usage: ./hiresync COMMAND [OPTIONS]"
  echo "Example: ./hiresync start"
  exit 1
fi

# Route to appropriate script
if [ -f "$SCRIPT_DIR/${COMMAND}.sh" ]; then
  bash "$SCRIPT_DIR/${COMMAND}.sh" "$@"
else
  echo "Unknown command: $COMMAND"
  exit 1
fi